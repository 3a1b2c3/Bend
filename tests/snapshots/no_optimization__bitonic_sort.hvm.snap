---
source: tests/golden_tests.rs
input_file: tests/golden_tests/no_optimization/bitonic_sort.hvm
---
@Both = (a (b (* ((a (b c)) c))))

@Down = (a (((b (* c)) ((d (e ({15 f g} h))) (a i))) i))
  & @Both ~ (j (k h))
  & @Flow ~ (g (e k))
  & @Flow ~ (f (d j))
  & @Leaf ~ (b c)

@Err = (a a)

@Flow = (a (((b (* c)) ((d (e ({13 f g} h))) (a i))) i))
  & @Down ~ (f (j h))
  & @Warp ~ (g (d (e j)))
  & @Leaf ~ (b c)

@Gen = (?<a ({19 b c} d) e> ({17 f {17 <* #2 g> <* #2 <+ #1 h>>}} e))
  & @Gen ~ (c (h i))
  & @Both ~ (j (i d))
  & @Gen ~ (b (g j))
  & @Leaf ~ (f a)

@Join = (((* (* @Err)) ((a (b (((* (* (* @Err))) ((c (d (e (f g)))) (a (b h)))) h))) (i j))) (i j))
  & @Both ~ (k (l g))
  & @Both ~ (f (d l))
  & @Both ~ (e (c k))

@Leaf = (a ((a b) (* b)))

@Rev = (((a b) ((c (d e)) f)) f)
  & @Both ~ (g (h e))
  & @Rev ~ (c h)
  & @Rev ~ (d g)
  & @Leaf ~ (a b)

@Sort = (a (((b (* c)) ((d (e (f g))) (a h))) h))
  & @Flow ~ (f (i g))
  & @Both ~ (j (k i))
  & @Sort ~ (#1 (e k))
  & @Sort ~ (#0 (d j))
  & @Leaf ~ (b c)

@Sum = (((a a) ((b (c d)) e)) e)
  & @Sum ~ (b <+ f d>)
  & @Sum ~ (c f)

@Swap = (?<a (* b) c> ({3 d e} ({5 f g} c)))
  & @Both ~ (g (e b))
  & @Both ~ (d (f a))

@Warp = (a (((b (c ((({7 d e} (f ({9 <> d <^ f g>> h} i))) ((* (* (* (* @Err)))) (c (b j)))) j))) ((k (l (m (((* (* (* (* @Err)))) ((n (o ({11 p q} (r (s t))))) (m (k (l u))))) u)))) (a (v w)))) (v w)))
  & @Join ~ (x (y t))
  & @Warp ~ (q (s (o y)))
  & @Warp ~ (p (r (n x)))
  & @Swap ~ (g (z (ab i)))
  & @Leaf ~ (e ab)
  & @Leaf ~ (h z)

@main = a
  & @Sum ~ (b a)
  & @Sort ~ (#0 (c b))
  & @Rev ~ (d c)
  & @Gen ~ (#4 (#0 d))
